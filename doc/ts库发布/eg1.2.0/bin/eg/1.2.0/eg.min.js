var __reflect=this&&this.__reflect||function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n},__extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},__awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(r){n=[6,r],o=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},eg;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._isDispose=!1,n.height=e.Config.STAGE_H,n}return __extends(n,t),Object.defineProperty(n.prototype,"pageType",{get:function(){return e.UILayer.LAYER_SCENCE},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageId",{get:function(){return-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){return this},enumerable:!0,configurable:!0}),n.prototype.initUI=function(t){e.log(t),this.dispatchEventWith(n.INIT_COMPLETE)},n.prototype.pageData=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,Promise.resolve({})]})})},n.prototype.open=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.Loading.Instance.show(),[4,this.loadRes(this.resName)];case 1:return n.sent(),[4,this.pageData()];case 2:return t=n.sent(),[4,this.setPageSkin()];case 3:return n.sent(),e.Loading.Instance.hide(),this.initUI(t),this.enter(),this.loadRes(this.preNextResName),[2]}})})},n.prototype.loadRes=function(t){return __awaiter(this,void 0,void 0,function(){var n=this;return __generator(this,function(r){return[2,new Promise(function(r,i){function o(){a++,a==u&&(r(),e.log("资源加载完成:"+t))}function s(t){e.Loading.Instance.progress(t.itemsLoaded,t.itemsTotal)}var a=0,u=0;null!=t&&t.length>0?(u=t.length,e.QueueLoader.Instance.loadGroupArray(t,e.QueueLoader.MAX_PRIORITY,n,o,s)):r()})]})})},n.prototype.close=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.exit()];case 1:return e.sent(),this.dispose(),[2]}})})},n.prototype.enter=function(){},n.prototype.exit=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,Promise.resolve({})]})})},Object.defineProperty(n.prototype,"resName",{get:function(){return this._resName},set:function(e){this._resName=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"preNextResName",{get:function(){return null},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){for(this._isDispose=!0,this.parent&&(this.parent.removeChild(this),e.EventDispatcher.Instance.dispatchEventWith(egret.Event.CLOSE)),this._extraData=null,this._upPageExtraData=null;this.numChildren>0;){var t=this.removeChildAt(0);egret.is(t,"eg.IDispose")&&t.dispose()}},Object.defineProperty(n.prototype,"pageSkinName",{get:function(){return this._skinName},enumerable:!0,configurable:!0}),n.prototype.setPageSkin=function(){var t=this;return new Promise(function(n,r){t.once(eui.UIEvent.COMPLETE,function(e){n()},t),""!=t.pageSkinName&&null!=t.pageSkinName?egret.getDefinitionByName(t.pageSkinName)?egret.superSetter(e.PageBase,t,"skinName",t.pageSkinName):e.log(t.pageSkinName+"皮肤资源未找到"):n()})},Object.defineProperty(n.prototype,"pageName",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"upPageName",{get:function(){return this._upPageName},set:function(e){this._upPageName=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"curPageExtraData",{get:function(){return this._extraData},set:function(e){this._extraData=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"upPageExtraData",{get:function(){return this._upPageExtraData},set:function(e){this._upPageExtraData=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skinName",{get:function(){return this.pageSkinName},set:function(e){this._skinName=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDispose",{get:function(){return this._isDispose},enumerable:!0,configurable:!0}),n.INIT_COMPLETE="init_complete",n}(eui.Component);e.PageBase=t,__reflect(t.prototype,"eg.PageBase",["eg.IPage","eg.IDispose"])}(eg||(eg={}));var eg;!function(e){var t=function(){function e(){this._items=[]}return e.prototype.push=function(e){this._items.push(e)},e.prototype.pop=function(){return this._items.pop()},e.prototype.peek=function(){return this._items[this.size()-1]},e.prototype.size=function(){return this._items.length},e.prototype.toString=function(){return this._items.toString()},e}();e.Stack=t,__reflect(t.prototype,"eg.Stack")}(eg||(eg={}));var eg;!function(e){var t=function(){function t(){}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.prototype.init=function(t){e.Config.init(t),e.UILayer.Instance.init(e.Config.stage)},t.prototype.soundException=function(){window.alert;window.alert=function(t){null!=t&&t.indexOf("sound")>-1?e.warn("声音解码失败"):e.log("soundException:"+t.toString())}},t}();e.Eg=t,__reflect(t.prototype,"eg.Eg")}(eg||(eg={}));var eg;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.version="1.1.0",e}return __extends(n,t),n.prototype.createChildren=function(){t.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(e){}),egret.lifecycle.onPause=function(){egret.ticker.pause(),e.log("onPause")},egret.lifecycle.onResume=function(){egret.ticker.resume(),e.log("onResume")},this.runGame()["catch"](function(t){e.log("error:"+t.toString())})},n.prototype.initBefore=function(){e.log("initBefore")},n.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return e.log("------------------框架初始化开始-------------------------"),e.Eg.getInstance().init(this),this.initBefore(),this.initVersionController(),[4,this.loadConfigs()];case 1:return t.sent(),[4,this.initTheme()];case 2:return t.sent(),this.log(),e.log("------------------框架初始化结束---------------------------"),this.initComplete(),[2]}})})},n.prototype.initComplete=function(){},n.prototype.loadConfigs=function(){var t=this;return new Promise(function(n,r){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(r){switch(r.label){case 0:t=0,r.label=1;case 1:return t<e.Config.resConfigs.length?(e.log(e.Config.resConfigs[t].url+":"+e.Config.resConfigs[t].resourceRoot),[4,RES.loadConfig(e.Config.resConfigs[t].url,e.Config.resConfigs[t].resourceRoot)]):[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return n(),[2]}})})})},n.prototype.initVersionController=function(){if(e.Config.versionUrl){var t=new e.VersionController;RES.registerVersionController(t)}},n.prototype.loadRes=function(){var t=this;return new Promise(function(n,r){return __awaiter(t,void 0,void 0,function(){function t(){e.Loading.Instance.hide(),n()}function r(t){e.Loading.Instance.progress(t.itemsLoaded,t.itemsTotal)}function i(){e.log("loadGroup preload onError")}var o;return __generator(this,function(n){return e.Loading.Instance.show(),e.QueueLoader.Instance.loadGroup(this.preloadName,-1,this,t,r,i),o=this,[2]})})})},n.prototype.loadResAfter=function(){e.log("loadResAfter")},Object.defineProperty(n.prototype,"preloadName",{get:function(){return"preload"},enumerable:!0,configurable:!0}),n.prototype.initTheme=function(){var e=this;return new Promise(function(t,n){var r=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",r),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter);var i=new eui.Theme("resource/default.thm.json",e.stage);i.once(eui.UIEvent.COMPLETE,function(){t()},e)})},n.prototype.log=function(){e.log("框架代码版本号:"+this.version),e.log("engineVersion:"+egret.Capabilities.engineVersion),e.log("renderMode:"+egret.Capabilities.renderMode),e.log("runtimeType:"+egret.Capabilities.runtimeType),e.log("os:"+egret.Capabilities.os),e.log("isMobile:"+egret.Capabilities.isMobile),e.log("boundingClientWidth:"+egret.Capabilities.boundingClientWidth),e.log("boundingClientHeight:"+egret.Capabilities.boundingClientHeight),e.log("宽高比:"+egret.Capabilities.boundingClientWidth/egret.Capabilities.boundingClientHeight),e.log("navigator.userAgent:"+window.navigator.userAgent),e.log("window.screen width|height:"+window.screen.width+"|"+window.screen.height),e.log("document.body.clientWidth|document.body.clientHeight"+document.body.clientWidth+"|"+document.body.clientHeight),e.log("eg.Config.STAGE_W|H:"+e.Config.STAGE_W+"|"+e.Config.STAGE_H)},n.prototype.createGameScene=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},n}(eui.UILayer);e.EgMain=t,__reflect(t.prototype,"eg.EgMain")}(eg||(eg={}));var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,n,r){function i(e){t.call(r,e)}function o(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),n.call(r))}var s=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){t.call(r,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(e,n){window.JSONParseClass.setData(e),egret.callLater(function(){t.call(r,generateEUI2)},s)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(e.indexOf(".exml")>-1){var a=e.split("/");a.pop();var u=a.join("/")+"_EUI.json";generateJSON.paths[e]?egret.callLater(function(){t.call(r,generateJSON.paths[e])},this):RES.getResByUrl(u,function(n){window.JSONParseClass.setData(n),egret.callLater(function(){t.call(r,generateJSON.paths[e])},s)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){t.call(r,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,n){function r(r){t.call(n,r,e)}if(RES.hasRes(e)){var i=RES.getRes(e);i?r(i):RES.getResAsync(e,r,this)}else RES.getResByUrl(e,r,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var eg;!function(e){var t=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.initUI=function(n){t.prototype.initUI.call(this,n),this._bg=new eui.Rect(e.Config.STAGE_W,e.Config.STAGE_H),this._bg.fillColor=0,this._bg.fillAlpha=.7,this.addChildAt(this._bg,0)},n.prototype.enter=function(){return new Promise(function(e,t){})},Object.defineProperty(n.prototype,"pageType",{get:function(){return e.UILayer.LAYER_POPUP},enumerable:!0,configurable:!0}),n}(e.PageBase);e.PopupBaseUI=t,__reflect(t.prototype,"eg.PopupBaseUI")}(eg||(eg={}));var eg;!function(e){var t=function(){function e(){this.layerNames=[e.LAYER_SCENCE,e.LAYER_SCENCE_FUNCTION,e.LAYER_POPUP,e.LAYER_ALERT,e.LAYER_EFFECT,e.LAYER_LOADING],this.layers={},this.layerContainer=new egret.Sprite}return Object.defineProperty(e,"Instance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.init=function(e){this._stage=e;for(var t,n=0;n<this.layerNames.length;n++)t=new egret.Sprite,this.layers[this.layerNames[n]]=t,this.layerContainer.addChild(t);this._stage.addChild(this.layerContainer)},e.prototype.getLayerByType=function(e){return this.layers[e]},Object.defineProperty(e.prototype,"popup",{get:function(){return this.getLayerByType(e.LAYER_POPUP)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alert",{get:function(){return this.getLayerByType(e.LAYER_ALERT)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scence",{get:function(){return this.getLayerByType(e.LAYER_SCENCE)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sceceFunction",{get:function(){return this.getLayerByType(e.LAYER_SCENCE_FUNCTION)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effect",{get:function(){return this.getLayerByType(e.LAYER_EFFECT)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loading",{get:function(){return this.getLayerByType(e.LAYER_LOADING)},enumerable:!0,configurable:!0}),e.LAYER_SCENCE="scence",e.LAYER_SCENCE_FUNCTION="function",e.LAYER_POPUP="popup",e.LAYER_ALERT="alert",e.LAYER_EFFECT="effect",e.LAYER_LOADING="loading",e}();e.UILayer=t,__reflect(t.prototype,"eg.UILayer")}(eg||(eg={}));var eg;!function(e){var t=function(t){function n(){return t.call(this)||this}return __extends(n,t),Object.defineProperty(n.prototype,"languageId",{set:function(t){this.text=e.LanguageManager.Instance.getLanguage(t)},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){},n}(eui.BitmapLabel);e.GBitmapLabel=t,__reflect(t.prototype,"eg.GBitmapLabel",["eg.IDispose"])}(eg||(eg={}));var eg;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return e.log("GButton"),n}return __extends(n,t),n.prototype.buttonReleased=function(){if(e.log("onTap:"+this.name),e.Config.isAutoUploadPageData&&this.name){for(var t=this.parent;t;){if(t instanceof e.PageBase){e.log(t);break}t=t.parent}if(t){var n=t;e.ActLog.Instance.log({event_type:51,refer_page_name:n.upPageExtraData.upPageName,current_page_name:n.pageName,element_name:this.name})}}},Object.defineProperty(n.prototype,"enabled",{get:function(){return egret.superGetter(e.GButton,this,"enabled")},set:function(t){if(egret.superSetter(e.GButton,this,"enabled",t),t)this.filters=[];else{var n=[.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0],r=new egret.ColorMatrixFilter(n);this.filters=[r]}},enumerable:!0,configurable:!0}),n.prototype.getCurrentState=function(){var e=t.prototype.getCurrentState.call(this);return"down"==e?this.scaleX=this.scaleY=.9:this.scaleX=this.scaleY=1,e},n.prototype.partAdded=function(t,n){e.log(t)},n.prototype.childrenCreated=function(){},n.prototype.dispose=function(){e.log("GButtion dispose")},n}(eui.Button);e.GButton=t,__reflect(t.prototype,"eg.GButton",["eg.IDispose"])}(eg||(eg={}));var eg;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.dispose=function(){},t}(eui.Image);e.GImage=t,__reflect(t.prototype,"eg.GImage",["eg.IDispose"])}(eg||(eg={}));var eg;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.initUI(),e}return __extends(n,t),n.prototype.initUI=function(){this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)},n.prototype.onTouchBegin=function(t){var n=this;if(!this.flag){this.flag=!0,this.srcX=this.x,this.srcY=this.y,e.log("x:"+this.srcX+"y:"+this.srcY),this.$stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancle,this),this.$stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this);var r=new egret.Matrix;r.scale(.9,.9),r.translate(this.x+.1*this.width/2,this.y+.1*this.height/2);var i=this.matrix;egret.Tween.get(i,{onChange:function(){n.matrix=i,n.curMatrix=i}}).to({a:r.a,b:r.b,c:r.c,d:r.d,tx:r.tx,ty:r.ty},100)}},n.prototype.onStageTouchEnd=function(e){var t=this,n=e.$currentTarget;n.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancle,this),n.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),egret.Tween.removeTweens(this);var r=new egret.Matrix;r.scale(1,1),r.translate(this.srcX,this.srcY);var i=this.matrix;egret.Tween.get(i,{onChange:function(){t.matrix=i}}).to({a:r.a,b:r.b,c:r.c,d:r.d,tx:r.tx,ty:r.ty},100).call(function(){t.flag=!1},this)},n.prototype.onTouchCancle=function(t){var n=t.$currentTarget;n.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancle,this),n.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),e.log("onTouchCancle")},Object.defineProperty(n.prototype,"enabled",{get:function(){return this._enabled},set:function(e){if(this._enabled=e,this.touchEnabled=e,e)this.filters=[];else{var t=[.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0],n=new egret.ColorMatrixFilter(t);this.filters=[n]}},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)},n}(eui.Image);e.GImageButton=t,__reflect(t.prototype,"eg.GImageButton",["eg.IDispose"])}(eg||(eg={}));var eg;!function(e){var t=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.dispose=function(){},Object.defineProperty(n.prototype,"languageId",{set:function(t){this.text=e.LanguageManager.Instance.getLanguage(t)},enumerable:!0,configurable:!0}),n}(eui.Label);e.GLabel=t,__reflect(t.prototype,"eg.GLabel",["eg.IDispose"])}(eg||(eg={}));var eg;!function(e){var t=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return __extends(t,e),t}(egret.Event);e.Event=t,__reflect(t.prototype,"eg.Event")}(eg||(eg={}));var eg;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"Instance",{get:function(){return null==t.instance&&(t.instance=new t),t.instance},enumerable:!0,configurable:!0}),t}(egret.EventDispatcher);e.EventDispatcher=t,__reflect(t.prototype,"eg.EventDispatcher")}(eg||(eg={}));var eg;!function(e){var t=function(){function t(){}return t.prototype.onLoadStart=function(t,n){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(r){return[2,new Promise(function(r,i){e.Config.isWxgame()?r():EXML.load(n.root+n.url,function(t,n){if("web"==egret.Capabilities.runtimeType)for(var i=t.prototype.__class__,o=i.split("."),s=o.length,a=window,u=0;s>u;u++){var c=o[u];null==a[c]&&(u!=s-1?a[c]={}:(e.log("注册exml到window:"+i),a[c]=t)),a=a[c]}r(t)},t)})]})})},t.prototype.onRemoveStart=function(e,t){return Promise.resolve()},t}();e.EXMLProcessor=t,__reflect(t.prototype,"eg.EXMLProcessor",["RES.processor.Processor"])}(eg||(eg={}));var eg;!function(e){var t=function(){function t(){this.resQueue=[],this.list=[],this.priority=t.MAX_PRIORITY,RES.setMaxLoadingThread(3)}return Object.defineProperty(t,"Instance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.loadArray=function(e,t,n,r,i,o,s){void 0===n&&(n=-1),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),RES.createGroup(e,t),this.loadGroup(e,n,r,i,o,s)},t.prototype.loadGroupArray=function(e,t,n,r,i,o){var s=this;void 0===t&&(t=-1),void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),e.forEach(function(e){s.loadGroup(e,t,n,r,i,o)})},t.prototype.loadGroup=function(n,r,i,o,s,a){void 0===r&&(r=-1),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=null);try{RES.getGroupByName(n),-1==r&&(r=this.priority--),e.log("新增加载列表:"+n);var u={name:n,priority:r,thisObject:i,onComplete:o,onProgress:s,onError:a};this.resQueue.push(u),this.state==t.LOADING&&this.loadResName==n&&(this.list.push(u),e.log("相同组后加入element:"+n+"|"+u.priority)),this.load()}catch(c){e.log(c.toString())}},t.prototype.load=function(){function n(n){var r=egret.getTimer();n.groupName==g&&(this.state=t.FREE,s(),c.list.forEach(function(t){t.onComplete&&t.onComplete.call(t.thisObject,u.name);var n=c.resQueue.indexOf(t);-1!=n&&c.resQueue.splice(n,1),e.log("加载完成element:"+t.name+"|"+t.priority+"耗时:"+r+"-"+p+"="+(r-p))}),c.load())}function r(e){e.groupName==g&&(s(),c.list.forEach(function(e){e.onError&&e.onError.call(e.thisObject)}))}function i(t){t.groupName==g&&(e.log("资源组:["+g+"]"+t.itemsLoaded+"/"+t.itemsTotal+"url:"+t.resItem.url),c.list.forEach(function(e){e.onProgress&&e.onProgress.call(e.thisObject,{itemsLoaded:t.itemsLoaded,itemsTotal:t.itemsTotal})}))}function o(t){e.log(t.groupName+"|"+t.resItem.url)}function s(){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,n,c),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,r,c),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,i,c),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,c)}var a=this;if(this.state!=t.LOADING){this.resQueue.sort(function(e,t){return t.priority-e.priority});var u=this.resQueue.shift();if(null!=u){if(RES.isGroupLoaded(u.name))return e.log("已经加载过:"+u.name),void(u.onComplete&&u.onComplete.call(u.thisObject));var c=this;this.loadResName=u.name,this.state=t.LOADING,this.list.length=0,this.list.push(u),this.resQueue.forEach(function(t){t.name==u.name&&(a.list.push(t),e.log("查找相同组element:"+t.name+"|"+t.priority))}),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,n,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,r,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,i,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,this);var g=u.name,l=u.priority,p=egret.getTimer();e.log("加载中:"+g+"|"+l+"|开始时间:"+p),RES.loadGroup(g,l)}}},t.LOADING="loading",t.FREE="free",t.MAX_PRIORITY=1e4,t}();e.QueueLoader=t,__reflect(t.prototype,"eg.QueueLoader")}(eg||(eg={}));var eg;!function(e){var t=function(){function t(){}return t.prototype.init=function(){var e=this;return new Promise(function(t,n){e.loadVersion(function(){t()})})},t.prototype.loadVersion=function(t){function n(n){try{this.info=JSON.parse(s.data)}catch(r){e.log("version.json 数据错误")}t(),i()}function r(t){e.log("version.json 加载失败"),i()}function i(){s.removeEventListener(egret.Event.COMPLETE,n,o),s.removeEventListener(egret.IOErrorEvent.IO_ERROR,r,o)}var o=this,s=new egret.URLLoader;s.once(egret.Event.COMPLETE,n,o),s.once(egret.IOErrorEvent.IO_ERROR,r,o);var a=e.Config.versionUrl;egret.Capabilities.runtimeType==egret.RuntimeType.WXGAME?(-1!=a.indexOf("http:")||-1!=a.indexOf("https:"))&&(a+="?"+Date.now()):a+="?"+Date.now();var u=new egret.URLRequest(a);s.load(u)},t.prototype.getVirtualUrl=function(t){var n,r=t.indexOf("resource/");if(-1!=r){var i=t.substring(0,r),o=t.substr(r),s=this.info[o];n=i+(s?s:o),e.log("url:"+t+"-> realUrl:"+n)}else n=t;return n},t}();e.VersionController=t,__reflect(t.prototype,"eg.VersionController",["RES.VersionController","RES.IVersionController"])}(eg||(eg={}));var eg;!function(e){var t=function(){function t(n,r){t.WX_ROOT=wx.env.USER_DATA_PATH+"/",this._remoteUrl=n,this._path=r,e.log("url:"+this._remoteUrl),this.fs=wx.getFileSystemManager()}return Object.defineProperty(t.prototype,"remoteUrl",{get:function(){return this._remoteUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRemotePath",{get:function(){return 0==this._remoteUrl.indexOf("http://")||0==this._remoteUrl.indexOf("https://")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localPath",{get:function(){if(null==this._path){var n=void 0,r=this._remoteUrl.indexOf("resource/");-1!=r&&(n=t.CACHE_DIR+this._remoteUrl.substr(r+9),n=n.split("?")[0]),this._path=n}return e.log("localPath:"+this._path),this._path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prefixPath",{get:function(){return this.isRemotePath?t.WX_ROOT+this.localPath:this._remoteUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){var t,n=this._remoteUrl.split("?")[1];return n&&(t=n.split("=")[1]),e.log("version:"+t),t},enumerable:!0,configurable:!0}),t.prototype.getDirList=function(){var e=this.localPath.split("/");return e.pop(),e},t.prototype.mkdir=function(){for(var n=this.getDirList(),r="",i=0;i<n.length;i++)r+=n[i]+"/",this.exists(r)||(this.fs.mkdirSync(t.WX_ROOT+r),e.log("mkdir:"+t.WX_ROOT+r))},t.prototype.exists=function(n){n=t.WX_ROOT+n;try{return this.fs.accessSync(n),e.log("exists1:"+n+" 存在"),!0}catch(r){return e.log("exists2:"+n+" 不存在"),!1}},t.prototype.writeText=function(t){this.mkdir(),this.fs.writeFile({filePath:this.prefixPath,data:t,encoding:"utf8",success:function(t){e.log("writeText success")}})},t.prototype.read=function(){var t=this;return new Promise(function(n,r){return __awaiter(t,void 0,void 0,function(){var t,r,i,o;return __generator(this,function(s){switch(s.label){case 0:switch(t=this.localPath.split("."),r=t[t.length-1],e.log("suffix:"+r),o=r){case"jpg":return[3,1];case"png":return[3,1];case"json":return[3,3];case"text":return[3,5]}return[3,7];case 1:return[4,this.readImage()];case 2:return i=s.sent(),[3,7];case 3:return[4,this.readText()];case 4:return i=s.sent(),i=JSON.parse(i),[3,7];case 5:return[4,this.readText()];case 6:return i=s.sent(),[3,7];case 7:return n(i),[2]}})})})},t.prototype.downloadFile=function(){var t=this;return new Promise(function(n,r){t.mkdir();var i=t.remoteUrl,o=t.prefixPath;wx.downloadFile({url:i,filePath:o,success:function(t){e.log("success"),n()},fail:function(t){e.log("fail"),r()}})})},t.prototype.readImage=function(){var t=this;return new Promise(function(n,r){var i=wx.createImage();i.onload=function(){var t=new egret.BitmapData(i),r=new egret.Texture;r._setBitmapData(t),e.log("readImage texture:"+r),setTimeout(function(){n(r)},0)},i.onerror=function(t){console.error(t),e.log("-----------------------"),r(t)},e.log("prefixPath:"+t.prefixPath),i.src=t.prefixPath})},t.prototype.readText=function(){var t=this;return new Promise(function(n,r){t.fs.readFile({filePath:t.prefixPath,encoding:"utf8",success:function(t){e.log("readText:"+t.data),n(t.data)},fail:function(t){e.log("readFile fail:"+t),r()}})})},t.CACHE_DIR="cache/",t}();e.WXFile=t,__reflect(t.prototype,"eg.WXFile")}(eg||(eg={}));var eg;!function(e){var t=function(){function e(){}return e}();e.WXFontProcessor=t,__reflect(t.prototype,"eg.WXFontProcessor")}(eg||(eg={}));var eg;!function(e){var t=function(){function t(){}return t.prototype.onLoadStart=function(t,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return e.log("host:"+t),e.log(n.root+"|"+n.url+"|"+n.name+"|"+n.type+"|"+n.crc32),[4,e.WXCacheManager.Instance.getRes(n.root+n.url)];case 1:return[2,r.sent()]}})})},t.prototype.onRemoveStart=function(e,t){var n=e.get(t);return n.dispose(),Promise.resolve()},t}();e.WXImageProcessor=t,__reflect(t.prototype,"eg.WXImageProcessor",["RES.processor.Processor"])}(eg||(eg={}));var eg;!function(e){var t=function(){function t(){}return t.prototype.onLoadStart=function(t,n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(r){switch(r.label){case 0:return t=0==n.url.indexOf("http://")||0==n.url.indexOf("https://")?n.url:n.root+n.url,[4,e.WXCacheManager.Instance.getRes(t)];case 1:return[2,r.sent()]}})})},t.prototype.onRemoveStart=function(e,t){return Promise.resolve()},t}();e.WXJsonProcessor=t,__reflect(t.prototype,"eg.WXJsonProcessor",["RES.processor.Processor"])}(eg||(eg={}));var eg;!function(e){var t=function(){function t(){}return t.prototype.onLoadStart=function(t,n){return __awaiter(this,void 0,void 0,function(){var t,r,i,o,s,a,u,c,g;return __generator(this,function(l){switch(l.label){case 0:return t=n.root+n.url,[4,e.WXCacheManager.Instance.getRes(t)];case 1:return r=l.sent(),i=t.lastIndexOf("/"),-1!=i&&(o=t.substring(0,i+1)+r.file),[4,e.WXCacheManager.Instance.getRes(o)];case 2:s=l.sent(),a=r.frames,u=new egret.SpriteSheet(s);for(c in a)g=a[c],u.createTexture(c,g.x,g.y,g.w,g.h,g.offX,g.offY,g.sourceW,g.sourceH);return[2,u]}})})},t.prototype.getData=function(t,n,r,i){e.log(r+"|"+i);var o=t.get(n);return o?o.getTexture(i):(console.error("missing resource : "+r+"#"+i),null)},t.prototype.onRemoveStart=function(e,t){return Promise.resolve()},t}();e.WXSheetProcessor=t,__reflect(t.prototype,"eg.WXSheetProcessor",["RES.processor.Processor"])}(eg||(eg={}));var eg;!function(e){var t=function(){function e(){}return e}();e.WXSoundProcessor=t,__reflect(t.prototype,"eg.WXSoundProcessor")}(eg||(eg={}));var eg;!function(e){var t=function(){function e(){}return e.prototype.onLoadStart=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onRemoveStart=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e}();e.WXTextProcessor=t,__reflect(t.prototype,"eg.WXTextProcessor",["RES.processor.Processor"])}(eg||(eg={}));var eg;!function(e){var t=function(){function t(){this.ui=new e.LoadingSimpleUI,this.spr=new egret.Sprite}return Object.defineProperty(t,"Instance",{get:function(){return null==t.ins&&(t.ins=new t),t.ins},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loadingUI",{set:function(e){this.ui=e},enumerable:!0,configurable:!0}),t.prototype.show=function(t){void 0===t&&(t=""),e.log("loading show"),this.ui.show(t),e.UILayer.Instance.loading.addChild(this.ui.content)},t.prototype.progress=function(e,t){this.ui.progress(e,t)},t.prototype.hide=function(){e.log("loading hide"),this.ui.hide()},t}();e.Loading=t,__reflect(t.prototype,"eg.Loading")}(eg||(eg={}));var eg;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.firstRadius=50,e.secondRadius=25,e.angle=30,e.thickness=5,e.frameRate=20,e.initUI(),e}return __extends(n,t),n.prototype.initUI=function(){this.frameTime=1e3/this.frameRate;var t=e.createRect(e.Config.STAGE_W,e.Config.STAGE_H,0,.7);t.touchEnabled=!0,this.addChild(t),this.firstPoints=[],this.secondPoints=[],this.num=360/this.angle;for(var n,r,i,o=0,s=0;s<this.num;s++)i=o*Math.PI/180,n=Math.cos(i)*this.firstRadius,r=Math.sin(i)*this.firstRadius,this.firstPoints[s]={x:n,y:r},n=Math.cos(i)*this.secondRadius,r=Math.sin(i)*this.secondRadius,this.secondPoints[s]={x:n,y:r},o+=this.angle;this.shape=new egret.Shape,this.shape.graphics.lineStyle(this.thickness,14211288);for(var a,u,s=0;s<this.num;s++)a=this.firstPoints[s],u=this.secondPoints[s],this.shape.graphics.moveTo(u.x,u.y),this.shape.graphics.lineTo(a.x,a.y);this.shape.graphics.endFill(),this.shape.x=e.Config.STAGE_W/2,this.shape.y=e.Config.STAGE_H/2,this.addChild(this.shape),this.ani_shape=new egret.Shape,this.ani_shape.x=e.Config.STAGE_W/2,this.ani_shape.y=e.Config.STAGE_H/2,this.ani_shape.graphics.lineStyle(this.thickness,8026746),this.addChild(this.ani_shape),this.tf_msg=e.createTxt("",0,e.Config.STAGE_H/2+70,e.Config.STAGE_W,50,24,16777215,egret.HorizontalAlign.CENTER),this.addChild(this.tf_msg)},Object.defineProperty(n.prototype,"content",{get:function(){return this},enumerable:!0,configurable:!0}),n.prototype.progress=function(e,t){},n.prototype.show=function(e){this.frameIndex=0,this.t1=egret.getTimer(),this.addEventListener(egret.Event.ENTER_FRAME,this.onFrame,this),this.showMsg(e)},n.prototype.showMsg=function(e){this.tf_msg.text=e},n.prototype.onFrame=function(e){var t=egret.getTimer();if(t-this.t1>this.frameTime){var n=this.frameIndex%this.num,r=this.firstPoints[n],i=this.secondPoints[n];
this.ani_shape.graphics.clear(),this.ani_shape.graphics.lineStyle(this.thickness,3355443),this.ani_shape.graphics.moveTo(i.x,i.y),this.ani_shape.graphics.lineTo(r.x,r.y),this.ani_shape.graphics.endFill(),this.frameIndex++,this.t1=t}},n.prototype.hide=function(){this.dispose()},n.prototype.dispose=function(){this.parent&&this.parent.removeChild(this),this.removeEventListener(egret.Event.ENTER_FRAME,this.onFrame,this)},n}(egret.DisplayObjectContainer);e.LoadingSimpleUI=t,__reflect(t.prototype,"eg.LoadingSimpleUI",["eg.ILoadingUI","eg.IDisplayObject","eg.IDispose"])}(eg||(eg={}));var eg;!function(e){var t=function(){function t(){}return Object.defineProperty(t,"Instance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"languageData",{set:function(e){this._data=e},enumerable:!0,configurable:!0}),t.prototype.getLanguage=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i;if(null==this._data?e.log("没有设置语言包数据"):i=this._data[t],i){if(n)for(var o=n.length,s=0;o>s;s++)i=i.replace("${"+s+"}",n[s])}else e.log("语言id:"+t+"不存在");return i},t}();e.LanguageManager=t,__reflect(t.prototype,"eg.LanguageManager")}(eg||(eg={}));var eg;!function(e){var t=function(){function t(){}return t.prototype.loadConfig=function(t,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return e.log("loadConfig:"+t+" resourceRoot:"+n),[4,RES.loadConfig(t,n)];case 1:return[2,r.sent()]}})})},Object.defineProperty(t,"Instance",{get:function(){return n},enumerable:!0,configurable:!0}),t}();e.RESManager=t,__reflect(t.prototype,"eg.RESManager");var n=new t}(eg||(eg={}));var eg;!function(e){var t=function(){function t(){this._dic={}}return Object.defineProperty(t,"Instance",{get:function(){return null==t.instance&&(t.instance,t.instance=new t),t.instance},enumerable:!0,configurable:!0}),t.prototype.showUI=function(t){var n,r=typeof t;switch(e.log("type:"+r),r){case"function":n=new t;break;case"string":n=new(egret.getDefinitionByName(t));break;case"object":n=t}return this.bindData(n),this.show(n),this.uploadPageData(n),n},t.prototype.show=function(t){t.open();var n=t.pageType,r=e.UILayer.Instance.getLayerByType(n);r.addChild(t.content);var i=this._dic[t.pageType];i&&!i.isDispose&&i.close(),this._dic[t.pageType]=t},t.prototype.bindData=function(e){var t=this._dic[e.pageType];e.upPageExtraData=this.getPageExtraData(t)},t.prototype.getPageExtraData=function(e){var t=(e?e.curPageExtraData:{})||{};return t.upPageName=e?e.pageName:"",t},t.prototype.uploadPageData=function(t){var n=this._dic[t.pageType];null==n&&t.pageType==e.UILayer.LAYER_POPUP&&(n=this._dic[e.UILayer.LAYER_SCENCE]);var r=t.pageName,i=n?n.pageName:"";e.Config.isAutoUploadPageData&&r&&e.ActLog.Instance.log({event_type:50,refer_page_name:i,current_page_name:r})},t.prototype.closeUIByType=function(e){var t=this._dic[e];t&&!t.isDispose&&t.close(),this._dic[e]=null},t.prototype.closeUI=function(e){this.closeUIByType(e.pageType)},t}();e.UIManager=t,__reflect(t.prototype,"eg.UIManager")}(eg||(eg={}));var eg;!function(e){var t=function(){function t(){this.resConfigPath="wx_version.json"}return Object.defineProperty(t,"Instance",{get:function(){return r},enumerable:!0,configurable:!0}),t.prototype.init=function(){var t=this;return new Promise(function(r,i){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return"wxgame"!=egret.Capabilities.runtimeType?[3,3]:(e.log("---------------------------启用wxgame缓存------------------------------"),this.wxResProcessor(),this.resFile=new e.WXFile("http://",e.WXFile.CACHE_DIR+this.resConfigPath),t=void 0,this.resFile.exists(this.resFile.localPath)?[4,this.resFile.read()]:[3,2]);case 1:t=i.sent(),i.label=2;case 2:n=t||{},i.label=3;case 3:return r(),[2]}})})})},t.prototype.wxResProcessor=function(){RES.processor.map("image",new e.WXImageProcessor),RES.processor.map("text",new e.WXTextProcessor),RES.processor.map("json",new e.WXJsonProcessor),RES.processor.map("sheet",new e.WXSheetProcessor)},t.prototype.getRes=function(t){var n=this;return new Promise(function(r,i){return __awaiter(n,void 0,void 0,function(){var n,i;return __generator(this,function(o){switch(o.label){case 0:return n=new e.WXFile(t),n.isRemotePath&&this.isUpdateFile(n)?(e.log("网络下载资源"),[4,n.downloadFile()]):[3,2];case 1:o.sent(),this.updateCacheConfig(n),o.label=2;case 2:return[4,n.read()];case 3:return i=o.sent(),r(i),[2]}})})})},t.prototype.isUpdateFile=function(t){return e.log("isUpdateFile:"+t.remoteUrl),!(t.exists(t.localPath)&&this.compareResVersion(t))},t.prototype.compareResVersion=function(t){var r=n?n[t.prefixPath]:void 0;return e.log("localVersion:"+r+" verson:"+t.version),r==t.version},t.prototype.updateCacheConfig=function(t){if(e.log("updateCacheConfig prefixPath:"+t.prefixPath+"-> version:"+t.version),t.version){n[t.prefixPath]=t.version;var r=JSON.stringify(n);e.log(r),this.resFile.writeText(r)}},t.prototype.clearCache=function(){},t}();e.WXCacheManager=t,__reflect(t.prototype,"eg.WXCacheManager");var n,r=new t}(eg||(eg={}));var eg;!function(e){var t=function(){function e(){}return e.prototype.init=function(){},Object.defineProperty(e,"Instance",{get:function(){return n},enumerable:!0,configurable:!0}),e}();e.WXFileManager=t,__reflect(t.prototype,"eg.WXFileManager");var n=new t}(eg||(eg={}));var eg;!function(e){var t=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.getInstance=function(){return null==n._instance&&(n._instance=new n),n._instance},n.prototype.init=function(){this._ws=new egret.WebSocket,this._ws=new egret.WebSocket,this._ws.type=egret.WebSocket.TYPE_BINARY,this._ws.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this._ws.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this._ws.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this._ws.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketError,this)},n.prototype.connect=function(e,t){this._ws.connect(e,t)},n.prototype.connectByUrl=function(e){this._ws.connectByUrl(e)},n.prototype.sendData=function(e){this._ws.writeBytes(e,0,e.bytesAvailable),this._ws.flush()},n.prototype.onReceiveMessage=function(t){e.log("onReceiveMessage");var n=new egret.ByteArray;this._ws.readBytes(n),this.dispatchEventWith(egret.ProgressEvent.SOCKET_DATA,!1,n)},n.prototype.onSocketOpen=function(){e.log("WebSocketOpen"),this.dispatchEventWith(egret.Event.CONNECT)},n.prototype.onSocketClose=function(){e.log("WebSocketClose"),this.dispatchEventWith(egret.Event.CLOSE)},n.prototype.onSocketError=function(){e.log("WebSocketError"),this.dispatchEventWith(egret.IOErrorEvent.IO_ERROR)},n.prototype.connected=function(){return this._ws.connected},n}(egret.EventDispatcher);e.WS=t,__reflect(t.prototype,"eg.WS")}(eg||(eg={}));var eg;!function(e){var t=function(){function t(){}return Object.defineProperty(t,"Instance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logUrl",{set:function(e){this._logUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"templateData",{set:function(e){this._templateData=JSON.stringify(e)},enumerable:!0,configurable:!0}),t.prototype.log=function(t){var n=JSON.parse(this._templateData),r=n.message_data[0];for(var i in t)r[i]=t[i];r.timestamp=Date.now(),e.post(this._logUrl,n,egret.HttpResponseType.TEXT,{"Content-Type":"application/json"})},t.prototype.sendLog=function(t){e.post(this._logUrl,t,egret.HttpResponseType.TEXT,{"Content-Type":"application/json"})},t.prototype.getMsgDate=function(e,t,n){void 0===n&&(n=null);var r={activity_id:6e5,user_id:[{type:2,value:e}],event_type:t,timestamp:Date.now(),id:"activity-log-id-json-1",activity_type:1,kv:n};return r},t}();e.ActLog=t,__reflect(t.prototype,"eg.ActLog")}(eg||(eg={}));var eg;!function(e){var t=function(){function t(){}return Object.defineProperty(t,"Instance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"platform",{get:function(){return this._platform},set:function(e){this._platform=e},enumerable:!0,configurable:!0}),t.prototype.getGameAPI=function(e){return this.getDomain("game")+this.getAPI(e)},t.prototype.getWXAPI=function(e){return this.getDomain("wx")+this.getAPI(e)},t.prototype.getLogAPI=function(e){return this.getDomain("log")+this.getAPI(e)},t.prototype.getDomain=function(e){return this._data.domain.domain[this._platform][e]},t.prototype.getAPI=function(e){return this._data.domain.api[e]},t.prototype.getAPI2=function(e,t){return this.getDomain(e)+this._data.domain.api[t]},Object.defineProperty(t.prototype,"languageData",{get:function(){return this._data.language},enumerable:!0,configurable:!0}),t.prototype.getValue=function(t){var n=typeof t;e.log("type:"+n);var r;r="string"==n?t.split("."):t;for(var i=this._data,o=r.length,s=0;o>s;s++)i=i[r[s]];return i},t}();e.Description=t,__reflect(t.prototype,"eg.Description")}(eg||(eg={}));var eg;!function(e){function t(e){var t=egret.getQualifiedClassName(e);return egret.getDefinitionByName(t)}e.getDefinition=t}(eg||(eg={}));var eg;!function(e){var t=function(){function t(e){var t=document.getElementById("gameDiv");this.element=document.createElement("img"),this.element.style.position="absolute",t.appendChild(this.element),this.show(e)}return t.prototype.addEvent=function(e){this.element.addEventListener("touchstart",this.onTouchstart,!1)},t.prototype.onTouchstart=function(t){e.log(t)},t.prototype.show=function(e){void 0===e&&(e=null),null!=e&&this._imgUrl!=e&&(this._imgUrl=e,this.element.src=e),this.element.style.display="inline"},t.prototype.setPosition=function(t,n,r,i){var o=document.body.clientWidth/e.Config.STAGE_W,s=document.body.clientHeight/e.Config.STAGE_H;e.log("wScale:"+o),e.log("hScale:"+s),this.element.style.width=r*o+"px",this.element.style.height=i*s+"px",this.element.style.left=t*o+"px",this.element.style.top=n*s+"px"},t.prototype.hide=function(e){void 0===e&&(e=!1),this.element.style.display="none",e&&this.dispose()},t.prototype.dispose=function(){this.element.parentNode.removeChild(this.element)},t.prototype.getElement=function(){return this.element},t}();e.HtmlImage=t,__reflect(t.prototype,"eg.HtmlImage",["eg.IDispose"])}(eg||(eg={}));var util;!function(e){var t=function(){function e(e){this._pageSize=e,this._curPage=1,this._items=[]}return Object.defineProperty(e.prototype,"items",{set:function(e){this._items=e,this._countPage=this.pageCount(this._items.length)},enumerable:!0,configurable:!0}),e.prototype.pageCount=function(e){var t;return e=Math.floor((e-1)/this._pageSize),t=1>e?1:e+1},e.prototype.getItemsByPage=function(e){var t=(e-1)*this._pageSize,n=this._items.length;return this._items.slice(t,Math.min(t+this._pageSize,n))},Object.defineProperty(e.prototype,"curPageItems",{get:function(){return this.getItemsByPage(this.curPage)},enumerable:!0,configurable:!0}),e.prototype.toPrePage=function(){this._curPage>1&&this._curPage--},e.prototype.toNextPage=function(){this._curPage=Math.min(this._curPage+1,this.countPage)},Object.defineProperty(e.prototype,"allLen",{get:function(){return null==this._items?0:this._items.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"countPage",{get:function(){return this._countPage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"curPage",{get:function(){return this._curPage},set:function(e){this._curPage=Math.max(1,e)},enumerable:!0,configurable:!0}),e.prototype.getPageByItem=function(e){var t=this._items.indexOf(e);return-1!=t?this.getPageByIndex(t):-1},e.prototype.getPageByIndex=function(e){return e>=0?this.pageCount(e+1):-1},e.prototype.setCurItem=function(e){return this._items&&e<this._items.length?(this._curPage=this.getPageByIndex(e),e-=(this._curPage-1)*this._pageSize,this._curIndex=e,!0):!1},Object.defineProperty(e.prototype,"isFirstPage",{get:function(){var e;return 1==this._curPage&&(e=!0),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEndPage",{get:function(){var e;return this._curPage==this.countPage&&(e=!0),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageStr",{get:function(){return this._curPage+"/"+this._countPage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSize",{get:function(){return this._pageSize},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._items=null},e}();e.Pagination=t,__reflect(t.prototype,"util.Pagination")}(util||(util={}));var eg;!function(e){var t=function(){function t(){this._poolDic={}}return Object.defineProperty(t,"Instance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.getPoolBySign=function(e){return this._poolDic[e]||(this._poolDic[e]=[])},t.prototype.getItemByClass=function(t){var n=egret.getQualifiedClassName(t),r=this.getPoolBySign(n);e.log("getItemByClass:"+n+"|"+r.length);var i=r.length?r.pop():new t;return i},t.prototype.recover=function(t){var n=egret.getQualifiedClassName(t),r=this.getPoolBySign(n);r.push(t),e.log("recover:"+n+"|"+r.length)},t.prototype.getItemByCreateFun=function(e,t,n){var r=egret.getQualifiedClassName(e),i=this.getPoolBySign(r),o=i.length?i.pop():t.call(n);return o},t}();e.Pool=t,__reflect(t.prototype,"eg.Pool")}(eg||(eg={}));var eg;!function(e){function t(e,t){for(var n=e.x,r=e.y,i=!1,o=0,s=t.length,a=s-1;s>o;a=o,o++){var u=t[o].x,c=t[o].y,g=t[a].x,l=t[a].y;if(u===n&&c===r||g===n&&l===r)return"on";if(r>c&&l>=r||c>=r&&r>l){var p=u+(r-c)*(g-u)/(l-c);if(p===n)return"on";p>n&&(i=!i)}}return i?"in":"out"}e.rayCasting=t}(eg||(eg={}));var eg;!function(e){var t=function(){function e(e,t,n,r){this._viewRect=new egret.Rectangle(0,0,e,t),this._sceneRect=new egret.Rectangle(0,0,n,r),this._scrollPoint=new egret.Point(e/2,t/2),this._scrollRect=new egret.Rectangle(0,0,n-e,r-t),this.$pos=new egret.Point}return e.prototype.updatePostion=function(e,t){var n=e-this._scrollPoint.x,r=t-this._scrollPoint.y;return n=0>n?0:n>this._scrollRect.width?this._scrollRect.width:n,r=0>r?0:r>this._scrollRect.height?this._scrollRect.height:r,n=0|n,r=0|r,this._sceneRect.x=-n,this._sceneRect.y=-r,this.$pos.setTo(-n,-r),this.$pos},e}();e.SceneScroll=t,__reflect(t.prototype,"eg.SceneScroll")}(eg||(eg={}));var util;!function(e){var t=function(){function e(){this.count=0,this.timer=new egret.Timer(1e3)}return e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e.prototype.shakeObj=function(e,t,n,r){this.stop(),this.target=e,this.initX=e.x,this.initY=e.y,this.maxDis=r,this.count=t*n,this.rate=n,this.timer.delay=1e3/n,this.timer.repeatCount=this.count,this.timer.addEventListener(egret.TimerEvent.TIMER,this.shaking,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.shakeComplete,this),this.timer.reset(),this.timer.start()},e.prototype.shaking=function(){egret.Tween.removeTweens(this.target),this.target.x=this.initX-this.maxDis+Math.random()*this.maxDis*2,this.target.y=this.initY-this.maxDis+Math.random()*this.maxDis*2,egret.Tween.get(this.target).to({x:this.initX,y:this.initY},999/this.rate)},e.prototype.shakeComplete=function(){this.target&&(egret.Tween.removeTweens(this.target),this.target.x=this.initX,this.target.y=this.initY,this.target=null),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.shaking,this),this.timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.shakeComplete,this)},e.prototype.stop=function(){this.shakeComplete()},e}();e.ShakeTool=t,__reflect(t.prototype,"util.ShakeTool")}(util||(util={}));var eg;!function(e){var t=function(t){function n(e,n){void 0===e&&(e="sound_play_png"),void 0===n&&(n="sound_pause_png");var r=t.call(this)||this;return r._playResName=e,r._pauseResName=n,r.initUI(),r}return __extends(n,t),n.prototype.initUI=function(){this.icon=e.createBitmap(this._playResName),this.icon.anchorOffsetX=this.icon.width/2,this.icon.anchorOffsetY=this.icon.height/2,this.addChild(this.icon),this.change(e.SoundMgr.Instance.soundStatus),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},n.prototype.onClick=function(t){e.SoundMgr.Instance.soundStatus=e.SoundMgr.Instance.soundStatus==e.SoundMgr.PLAY?e.SoundMgr.CLOSE:e.SoundMgr.PLAY,this.change(e.SoundMgr.Instance.soundStatus)},n.prototype.change=function(t){t==e.SoundMgr.PLAY?(this.icon.texture=RES.getRes(this._playResName),egret.Tween.get(this.icon,{loop:!0}).to({rotation:360},2e3)):(this.icon.texture=RES.getRes(this._pauseResName),egret.Tween.removeTweens(this.icon),this.icon.rotation=0)},n.prototype.dispose=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),egret.Tween.removeTweens(this.icon)},n}(egret.DisplayObjectContainer);e.SoundIcon=t,__reflect(t.prototype,"eg.SoundIcon",["eg.IDispose"])}(eg||(eg={}));var eg;!function(e){var t=function(){function e(){this.status=e.PLAY,this.isPause=!1}return Object.defineProperty(e,"Instance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.play=function(t,n){function r(t){o(),n==egret.Sound.MUSIC?u.status!=e.PLAY||u.isPause||(u.bgSoundChannel=s.play(0)):(egret.log("播放2"),s.play(0,1))}function i(e){o()}function o(){s.removeEventListener(egret.Event.COMPLETE,r,u),s.removeEventListener(egret.IOErrorEvent.IO_ERROR,i,u)}if(void 0===n&&(n=egret.Sound.EFFECT),this.status==e.CLOSE)return void egret.log("声音关闭状态");var s=new egret.Sound;if(s.type=n,n==egret.Sound.MUSIC){if(this.stopBackgroundSound(),this.backgroundSoundURL==t){var a=0;return this.bgSoundChannel&&(a=this.bgSoundChannel.position),void(this.bgSoundChannel=this.bgSound.play(a))}this.backgroundSoundURL=t,this.bgSound=s}s.load(t),s.addEventListener(egret.Event.COMPLETE,r,this),s.addEventListener(egret.IOErrorEvent.IO_ERROR,i,this);var u=this},e.prototype.stopBackgroundSound=function(){this.bgSoundChannel&&this.bgSoundChannel.stop()},Object.defineProperty(e.prototype,"soundStatus",{get:function(){return this.status},set:function(t){this.status=t,this.status==e.CLOSE?this.stopBackgroundSound():this.play(this.backgroundSoundURL,egret.Sound.MUSIC)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pause",{get:function(){return this.isPause},set:function(e){this.isPause=e},enumerable:!0,configurable:!0}),e.PLAY="play",e.CLOSE="close",e}();e.SoundMgr=t,__reflect(t.prototype,"eg.SoundMgr")}(eg||(eg={}));var eg;!function(e){function t(e){}function n(e){for(var t=(new egret.HtmlTextParser).parse(e),n=t.length,r=[],i=0;n>i;i++)for(var o=t[i],s=o.text,a=s.length,u=void 0,c=0;a>c;c++)u={text:s.charAt(c),style:o.style},r.push(u);return r}e.stringToArray=t,e.htmlStringToArray=n}(eg||(eg={}));var eg;!function(e){var t=function(t){function r(){var e=t.call(this)||this;return e.list=new Array,e.timer=new egret.Timer(100),e.timer.addEventListener(egret.TimerEvent.TIMER,e.onTimer,e),e.timer.start(),e}return __extends(r,t),Object.defineProperty(r,"Instance",{get:function(){return null==r.instance&&(r.instance=new r),r.instance},enumerable:!0,configurable:!0}),r.prototype.init=function(e){},r.prototype.addMsg=function(e){this.list.push(e)},r.prototype.onTimer=function(t){var n=this.list.shift();n&&(n.y=e.Config.STAGE_H/2,n.x=(e.Config.STAGE_W-n.width)/2,egret.Tween.get(n).wait(700).to({y:n.y-200,alpha:1},900).wait(0).call(this.onComplete,this,[n]),e.UILayer.Instance.effect.addChild(n))},r.prototype.onComplete=function(e){e.parent.removeChild(e)},r.showMsg=function(e){var t=new n(e);r.Instance.addMsg(t)},r}(egret.Sprite);e.Tips=t,__reflect(t.prototype,"eg.Tips");var n=function(t){function n(n){var r=t.call(this)||this;return r.txt=new egret.TextField,r.txt.size=36,r.txt.textColor=16777215,r.txt.fontFamily="Microsoft YaHei,Arial",r.txt.textFlow=n,r.txt.x=5,r.txt.y=5,r.shape=e.createRoundRect(r.txt.textWidth+10,r.txt.height+10,0,1),r.addChild(r.shape),r.addChild(r.txt),r.cacheAsBitmap=!0,r}return __extends(n,t),n}(egret.Sprite);e.Msg=n,__reflect(n.prototype,"eg.Msg")}(eg||(eg={}));var eg;!function(e){function t(e){r()&&egret.log("[LOG]"+y++ +" >>> "+e)}function n(e){r()&&egret.log("[WARN]"+y++ +" >>> "+e)}function r(){return e.Config.showLog||1==parseInt(egret.getOption("debug"))}function i(e,t){return void 0===t&&(t=egret.HttpResponseType.TEXT),__awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,s(e,egret.HttpMethod.GET,t)];case 1:return[2,n.sent()]}})})}function o(e,t,n,r){return void 0===n&&(n=egret.HttpResponseType.TEXT),__awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return r=r||{"Content-Type":"application/x-www-form-urlencoded"},[4,s(e,egret.HttpMethod.POST,n,t,r)];case 1:return[2,i.sent()]}})})}function s(t,n,r,i,o){return __awaiter(this,void 0,void 0,function(){var s=this;return __generator(this,function(u){return e.log("req >>> "+t),[2,new Promise(function(u,c){function g(n){if(clearTimeout(d),null==n?e.log("onGetProgress->onGetComplete"):e.log("onGetComplete"),h(),r==egret.HttpResponseType.TEXT)try{e.log("http数据:"+f.response);var i=void 0;""!=f.response&&null!=f.response&&(i=JSON.parse(f.response)),u(i)}catch(o){e.log("res <<< 接口数据json解析错误:"+o.toString()+" >>> url:"+t),c(o)}else u(f.response)}function l(t){e.log("progress:"+t.bytesLoaded+"/"+t.bytesTotal),t.bytesLoaded==t.bytesTotal&&(void 0==f.response||""==f.response?(e.log("启动延时执行onGetComplete(null)"),d=setTimeout(function(){g(null)},0)):g(null))}function p(n){e.log("res <<< 接口网络错误 req url:"+t),h(),c(n),e.EventDispatcher.Instance.dispatchEventWith(egret.IOErrorEvent.IO_ERROR)}function h(){f.removeEventListener(egret.Event.COMPLETE,g,this),f.removeEventListener(egret.ProgressEvent.PROGRESS,l,this),f.removeEventListener(egret.IOErrorEvent.IO_ERROR,p,this)}n==egret.HttpMethod.GET&&null!=i&&(t+="?"+i);var f=new egret.HttpRequest;f.withCredentials=!1,f.responseType=r,f.addEventListener(egret.Event.COMPLETE,g,s),f.addEventListener(egret.ProgressEvent.PROGRESS,l,s),f.addEventListener(egret.IOErrorEvent.IO_ERROR,p,s);var d;f.open(t,n);for(var _ in o)f.setRequestHeader(_,o[_]);n==egret.HttpMethod.POST&&null!=i?f.send(a(i,o["Content-Type"])):f.send()})]})})}function a(e,t){var n;if("text/json"==t)n=JSON.stringify(e);else if("application/octet-stream"==t)n=e;else if("application/json"==t)n=JSON.stringify(e);else{n="";for(var r in e)""!=n&&(n+="&"),n+=encodeURIComponent(r)+"="+encodeURIComponent(e[r])}return n}function u(t,n,r,i,o){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=!1),void 0===o&&(o=!1);var s;return RES.hasRes(t)?(s=new egret.Bitmap(RES.getRes(t)),o&&(s.anchorOffsetX=s.width/2,s.anchorOffsetY=s.height/2),s.x=n,s.y=r,s.touchEnabled=i):e.log("资源不存在:"+t),s}function c(e,t){for(var n=t.length,r=0;n>r;r++)e.addChild(t[r])}function g(e,t,n,r,i){void 0===r&&(r=1),void 0===i&&(i=!1);var o=new egret.Shape;return o.graphics.beginFill(n,r),o.graphics.drawRect(0,0,e,t),o.graphics.endFill(),o.touchEnabled=i,o}function l(e,t,n,r,i,o,s,a,u,c,g){void 0===o&&(o=30),void 0===s&&(s=0),void 0===a&&(a=egret.HorizontalAlign.LEFT),void 0===u&&(u=!1),void 0===c&&(c=egret.VerticalAlign.MIDDLE),void 0===g&&(g="Microsoft YaHei,Arial");var l=new egret.TextField;return l.width=r,l.height=i,l.textAlign=a,l.verticalAlign=c,l.size=o,l.bold=u,l.textColor=s,l.text=e,l.x=t,l.y=n,l}function p(e,t,n,r,i,o,s,a,u){void 0===o&&(o=egret.HorizontalAlign.LEFT),void 0===s&&(s=!1),void 0===a&&(a=egret.VerticalAlign.MIDDLE),void 0===u&&(u="Microsoft YaHei,Arial");var c=new egret.TextField;return c.textAlign=o,c.verticalAlign=a,c.size=r,c.bold=s,c.textColor=i,c.text=e,c.x=t,c.y=n,c}function h(e,t,n){void 0===n&&(n=1);var r=new egret.Shape;return r.graphics.beginFill(t,n),r.graphics.drawCircle(0,0,e),r.graphics.endFill(),r}function f(e,t,n,r,i,o,s,a){void 0===r&&(r=1),void 0===i&&(i=15),void 0===o&&(o=15),void 0===s&&(s=0),void 0===a&&(a=0);var u=new egret.Shape;return u.graphics.beginFill(n,r),u.graphics.drawRoundRect(0,0,e,t,i,o),u.graphics.endFill(),u.x=s,u.y=a,u}function d(t){return/^data:image/.test(t)||(t="data:image/jpeg;base64,"+t),new Promise(function(n,r){e.log("createBitmapByBase64Image:"+t.length);var i=new Image;i.src=t,i.onload=function(){e.log("img.onload");var t=new egret.BitmapData(i),r=new egret.Texture;r.bitmapData=t;var o=new egret.Bitmap(r);n(o)},i.onerror=function(t){e.log("err:"+t.toString())}})}function _(e){for(var t=new Uint8Array(e.length),n=0,r=e.length;r>n;n++)t[n]=e.charCodeAt(n);return t}var y=0;e.log=t,e.warn=n,e.isDebug=r,e.get=i,e.post=o,e.request=s,e.formatReqParams=a,e.createBitmap=u,e.addChild=c,e.createRect=g,e.createTxt=l,e.createTxt2=p,e.createCircle=h,e.createRoundRect=f,e.createBitmapByBase64Image=d,e.utf2buffer=_}(eg||(eg={}));var eg;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.initUI(),e}return __extends(i,t),i.prototype.initUI=function(){this._bg=new n,this._block=new r,this.addChild(this._bg),this.addChild(this._block),this._block.touchEnabled=!0,this._block.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBegin,this),this.$tempPos1=new egret.Point,this.$tempPos2=new egret.Point},i.prototype.onBegin=function(e){this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMove,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onEnd,this),this.dispatchEventWith("v_start")},i.prototype.onMove=function(t){e.log(t.stageX+"|"+t.stageY),this.$tempPos1.setTo(this.x,this.y),this.$tempPos2.setTo(t.stageX,t.stageY);var n=egret.Point.distance(this.$tempPos1,this.$tempPos2),r=Math.atan2(t.stageY-this.y,t.stageX-this.x),i=70;i>=n?(this._block.x=t.stageX-this.x,this._block.y=t.stageY-this.y):(this._block.x=Math.cos(r)*i,this._block.y=Math.sin(r)*i),this.dispatchEventWith("v_move",!1,r)},i.prototype.onEnd=function(e){this._block.x=0,this._block.y=0,this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onEnd,this),this.dispatchEventWith("v_over")},i}(egret.Sprite);e.VirtualJoystick=t,__reflect(t.prototype,"eg.VirtualJoystick");var n=function(e){function t(){var t=e.call(this)||this;return t.initUI(),t}return __extends(t,e),t.prototype.initUI=function(){this.graphics.lineStyle(1,784137),this.graphics.drawCircle(0,0,100),this.graphics.endFill()},t}(egret.Sprite);__reflect(n.prototype,"VirtualBg");var r=function(e){function t(){var t=e.call(this)||this;return t.initUI(),t}return __extends(t,e),t.prototype.initUI=function(){this.graphics.beginFill(606457),this.graphics.drawCircle(0,0,30),this.graphics.endFill()},t}(egret.Sprite);__reflect(r.prototype,"MoveBlock")}(eg||(eg={}));var eg;!function(e){var t=function(){function e(){}return Object.defineProperty(e,"Instance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.config=function(e,t,n){wx.config(e),wx.ready(function(){wx.hideOptionMenu(),wx.showMenuItems({menuList:["menuItem:share:appMessage","menuItem:share:timeline"]}),t.call(n)}),wx.error(function(){egret.log("config error")})},e.prototype.share=function(t,n,r,i){var o;switch(t){case e.SHARE_APPMESSAGE:o=wx.onMenuShareAppMessage;break;case e.SHARE_TIMELINE:o=wx.onMenuShareTimeline;break;case e.SHARE_QQ:o=wx.onMenuShareQQ;break;case e.SHARE_WEIBO:o=wx.onMenuShareWeibo}n.trigger=function(e){r("trigger",e)},n.success=function(e){r("success",e)},n.cancel=function(e){r("cancel",e)},n.fail=function(e){r("fail",e)},o(n)},e.SHARE_TIMELINE="onMenuShareTimeline",e.SHARE_APPMESSAGE="onMenuShareAppMessage",e.SHARE_QQ="onMenuShareQQ",e.SHARE_WEIBO="onMenuShareWeibo",e}();e.WXUtil=t,__reflect(t.prototype,"eg.WXUtil")}(eg||(eg={}));var eg;!function(e){var t=function(){function e(){this._length=0}return e.prototype.append=function(e){var t=new n(e);if(null==this._head)this._head=t;else{for(var r=this._head;r.next;)r=r.next;r.next=t}this._length++},e.prototype.removeAt=function(e){if(e>-1&&e<this._length){var t=this._head,n=void 0,r=0;if(0==e)this._head=t.next;else{for(;r++<e;)n=t,t=t.next;n.next=t.next}return this._length--,t.element}return null},Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),e}();e.LinkedList=t,__reflect(t.prototype,"eg.LinkedList");var n=function(){function e(e){}return Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"next",{get:function(){return this._next},set:function(e){this._next=e},enumerable:!0,configurable:!0}),e}();__reflect(n.prototype,"Node")}(eg||(eg={}));var eg;!function(e){var t=function(){function e(){this._items=[]}return e.prototype.enqueue=function(e){this._items.push(e)},e.prototype.dequeue=function(){return this._items.shift()},e.prototype.isEmpty=function(){return 0==this.size()},e.prototype.front=function(){return this._items[0]},e.prototype.size=function(){return this._items.length},e.prototype.toString=function(){return this._items.toString()},e}();e.Queue=t,__reflect(t.prototype,"eg.Queue")}(eg||(eg={}));var eg;!function(e){var t=function(){function t(){}return t.init=function(t){e.Config.stage=t.stage,e.Config.STAGE_W=t.stage.stageWidth,e.Config.STAGE_H=t.stage.stageHeight},t.isWxgame=function(){return"wxgame"==egret.Capabilities.runtimeType},t.isAutoUploadPageData=!0,t.wxgameCache=!0,t.showLog=!1,t.resConfigs=[{url:"resource/default.res.json",resourceRoot:"resource/"}],t}();e.Config=t,__reflect(t.prototype,"eg.Config")}(eg||(eg={}));